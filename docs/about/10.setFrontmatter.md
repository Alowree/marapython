---
title: setFrontmatter
date: 2024-12-31 09:30:31
permalink: /pages/2f77f1/
categories: 
  - about
tags: 
  - about
---
## Explanation of the Code

1. Imports:
   `createContentLoader`: A function from VitePress to load markdown content.
   `dayjs`: A date manipulation library (though it seems unused in the provided code).
2. Interfaces:
   `Post`: Defines the structure of a post, including title, URL, date, abstract, and tags.
   `RecentPost`: Extends the `Post` interface (currently identical but can be modified for additional properties).
   `Data`: Defines the overall structure of the data, including mappings for years, recent posts, posts, and tags.
3. Data Declaration:
   `declare const data: Data;`: Declares a constant `data` of type `Data` to hold the structured data.
4. Content Loader:
   `createContentLoader("**/*.md", { ... })`: Loads markdown files and transforms them into structured data.
   The `transform` function processes the raw markdown data:
   Filters out unwanted URLs (like root and pages).
   Maps each markdown file to a `Post` object.
   Sorts posts by date.
   Populates `yearMap` and `tagMap` for easy access to posts by year and tags.
5. Date Formatting:
   The `formatDate` function converts a raw date string into a structured date object with a timestamp and formatted string.

## Summary

The `posts.data.ts` file is crucial for managing and structuring blog post data in a VitePress project. It processes markdown files, organizes them by year and tags, and provides a structured format for easy access and display in the application.

## 使用位置

第一个位置：首页。

比如，现在想要在首页上部署文章列表，每篇文章以卡片的形式展现，包含文章的

- 标题
- 时间
- 分类
- 标签
- 摘要

## 摘要的构建

因为在 `posts.data.ts` 脚本文件内，是使用 `abstract: frontmatter.abstract,` 对摘要进行的结构化构建，所以我们在文章内 frontmatter 需要使用 `abstract` 对摘要内容进行配置，脚本才可正确抓取。
